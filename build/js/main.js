"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function r(o,n,i,r){var l=n&&n.prototype instanceof s?n:s,c=Object.create(l.prototype);return _regeneratorDefine2(c,"_invoke",function(o,n,i){var r,s,l,c=0,u=i||[],d=!1,f={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,o){return r=e,s=0,l=t,f.n=o,a}};function m(o,n){for(s=o,l=n,e=0;!d&&c&&!i&&e<u.length;e++){var i,r=u[e],m=f.p,y=r[2];o>3?(i=y===n)&&(l=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=t):r[0]<=m&&((i=o<2&&m<r[1])?(s=0,f.v=n,f.n=r[1]):m<y&&(i=o<3||r[0]>n||n>y)&&(r[4]=o,r[5]=n,f.n=y,s=0))}if(i||o>1)return a;throw d=!0,n}return function(i,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,y),s=u,l=y;(e=s<2?t:l)||!d;){r||(s?s<3?(s>1&&(f.n=-1),m(s,l)):f.n=l:f.v=l);try{if(c=2,r){if(s||(i="next"),e=r[i]){if(!(e=e.call(r,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,s<2&&(s=0)}else 1===s&&(e=r.return)&&e.call(r),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);r=t}else if((e=(d=f.n<0)?l:o.call(n,f))!==a)break}catch(e){r=t,s=1,l=e}finally{c=1}}return{value:e,done:d}}}(o,i,r),!0),c}var a={};function s(){}function l(){}function c(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(_regeneratorDefine2(e={},n,function(){return this}),e),d=c.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_regeneratorDefine2(t,i,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=c,_regeneratorDefine2(d,"constructor",c),_regeneratorDefine2(c,"constructor",l),l.displayName="GeneratorFunction",_regeneratorDefine2(c,i,"GeneratorFunction"),_regeneratorDefine2(d),_regeneratorDefine2(d,i,"Generator"),_regeneratorDefine2(d,n,function(){return this}),_regeneratorDefine2(d,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:r,m:f}})()}function _regeneratorDefine2(t,e,o,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}_regeneratorDefine2=function(t,e,o,n){if(e)i?i(t,e,{value:o,enumerable:!n,configurable:!n,writable:!n}):t[e]=o;else{function r(e,o){_regeneratorDefine2(t,e,function(t){return this._invoke(e,o,t)})}r("next",0),r("throw",1),r("return",2)}},_regeneratorDefine2(t,e,o,n)}function asyncGeneratorStep(t,e,o,n,i,r,a){try{var s=t[r](a),l=s.value}catch(t){return void o(t)}s.done?e(l):Promise.resolve(l).then(n,i)}function _asyncToGenerator(t){return function(){var e=this,o=arguments;return new Promise(function(n,i){var r=t.apply(e,o);function a(t){asyncGeneratorStep(r,n,i,a,s,"next",t)}function s(t){asyncGeneratorStep(r,n,i,a,s,"throw",t)}a(void 0)})}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ContactoController=function(){return _createClass(function t(){_classCallCheck(this,t),this.formularioContacto=document.getElementById("formularioContacto"),this.botonEnviar=document.querySelector(".boton-enviar"),this.mapaInteractivo=document.getElementById("mapaInteractivo"),this.informacionMapa=document.getElementById("informacionMapa"),this.init()},[{key:"init",value:function(){this.initFormulario(),this.initMapa(),this.initAnimaciones(),this.initCopyToClipboard(),console.log("‚úÖ Contacto Controller inicializado")}},{key:"initFormulario",value:function(){var t=this;this.formularioContacto&&(this.formularioContacto.querySelectorAll("input, select, textarea").forEach(function(t){t.addEventListener("blur",function(){BombasAyalaUtils.validateField(t)}),t.addEventListener("input",function(){t.classList.contains("error")&&BombasAyalaUtils.validateField(t)})}),this.formularioContacto.addEventListener("submit",function(e){e.preventDefault(),t.enviarFormulario()}))}},{key:"enviarFormulario",value:function(){var t=this;if(BombasAyalaUtils.validateForm(this.formularioContacto)){var e=this.botonEnviar.innerHTML;this.botonEnviar.innerHTML='<i class="fas fa-spinner fa-spin"></i> ENVIANDO...',this.botonEnviar.disabled=!0;var o=new FormData(this.formularioContacto),n=Object.fromEntries(o);setTimeout(function(){console.log("üìß Datos del formulario:",n),t.formularioContacto.reset(),t.formularioContacto.querySelectorAll("input, select, textarea").forEach(function(t){t.classList.remove("error","success"),BombasAyalaUtils.removeFieldError(t)}),t.botonEnviar.innerHTML=e,t.botonEnviar.disabled=!1,BombasAyalaUtils.trackEvent("form_submit","contacto","formulario_principal")},2e3)}else{this.mostrarMensaje("Por favor, corrige los errores en el formulario.","error");var i=this.formularioContacto.querySelector(".error");i&&(i.focus(),i.scrollIntoView({behavior:"smooth",block:"center"}))}}},{key:"mostrarMensaje",value:function(t,e){var o=document.querySelector(".mensaje-formulario");o&&o.remove();var n=document.createElement("div");n.className="mensaje-formulario ".concat(e),n.innerHTML='\n            <i class="fas '.concat("exito"===e?"fa-check-circle":"fa-exclamation-triangle",'"></i>\n            <span>').concat(t,"</span>\n        "),this.formularioContacto.insertBefore(n,this.formularioContacto.firstChild),setTimeout(function(){n&&document.body.contains(n)&&(n.style.opacity="0",setTimeout(function(){document.body.contains(n)&&n.remove()},300))},5e3)}},{key:"initMapa",value:function(){var t=this;if(this.mapaInteractivo&&this.informacionMapa){var e=-12.113154,o=-77.05029;this.mapaInteractivo.addEventListener("mouseenter",function(){t.informacionMapa.style.opacity="0",t.informacionMapa.style.transform="translateY(-10px)"}),this.mapaInteractivo.addEventListener("mouseleave",function(){t.informacionMapa.style.opacity="1",t.informacionMapa.style.transform="translateY(0)"}),this.mapaInteractivo.addEventListener("click",function(){var t="https://www.google.com/maps?q=".concat(e,",").concat(o);window.open(t,"_blank"),BombasAyalaUtils.trackEvent("map_click","contacto","google_maps")});var n=this.mapaInteractivo.querySelector("iframe");n&&n.addEventListener("load",function(){t.mapaInteractivo.classList.add("mapa-cargado")})}}},{key:"initAnimaciones",value:function(){BombasAyalaUtils.animateOnScroll(".seccion-formulario-contacto, .informacion-contacto-directo, .seccion-horarios"),window.addEventListener("scroll",function(){var t=document.querySelector(".seccion-contacto");if(t){var e=t.getBoundingClientRect();e.top<window.innerHeight&&e.bottom>0&&t.classList.add("visible")}})}},{key:"initCopyToClipboard",value:function(){document.querySelectorAll(".detalles-contacto span").forEach(function(t){t.addEventListener("click",_asyncToGenerator(_regenerator().m(function e(){var o,n,i,r;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return o=t.textContent,e.p=1,e.n=2,BombasAyalaUtils.copyToClipboard(o);case 2:n=t.textContent,i=t.style.color,t.textContent="¬°Copiado!",t.style.color="#27AE60",setTimeout(function(){t.textContent=n,t.style.color=i},1e3),BombasAyalaUtils.showToast("Copiado: ".concat(o),"success"),BombasAyalaUtils.trackEvent("copy_contact","contacto",o),e.n=4;break;case 3:e.p=3,r=e.v,console.warn("No se pudo copiar el texto:",r),BombasAyalaUtils.showToast("No se pudo copiar","error");case 4:return e.a(2)}},e,null,[[1,3]])})))})}},{key:"scrollToForm",value:function(){this.formularioContacto&&this.formularioContacto.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"resetForm",value:function(){this.formularioContacto&&(this.formularioContacto.reset(),this.formularioContacto.querySelectorAll("input, select, textarea").forEach(function(t){t.classList.remove("error","success"),BombasAyalaUtils.removeFieldError(t)}))}}])}();function inicializarMapaPersonalizado(){var t=document.getElementById("mapaInteractivo"),e=document.getElementById("informacionMapa");t&&e&&t.addEventListener("click",function(){console.log("üó∫Ô∏è Mapa clickeado")})}function initContacto(){window.contactoController=new ContactoController,window.Contacto={scrollToForm:function(){var t;return null===(t=window.contactoController)||void 0===t?void 0:t.scrollToForm()},resetForm:function(){var t;return null===(t=window.contactoController)||void 0===t?void 0:t.resetForm()}}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}document.addEventListener("DOMContentLoaded",function(){initContacto(),inicializarMapaPersonalizado()}),"undefined"!=typeof module&&module.exports&&(module.exports=ContactoController);var GaleriaController=function(){return _createClass(function t(){_classCallCheck(this,t),this.filtroBtns=document.querySelectorAll(".filtro-btn"),this.tarjetasProyecto=document.querySelectorAll(".tarjeta-proyecto"),this.btnVerMas=document.getElementById("btnVerMas"),this.imagenesGaleria=document.querySelectorAll(".imagen-item img"),this.filtroActual="todos",this.mostrandoTodos=!1,this.proyectosPorPagina=6,this.init()},[{key:"init",value:function(){0!==this.tarjetasProyecto.length?(this.setupFilters(),this.setupVerMasButton(),this.setupLightbox(),this.setupAnimations(),console.log("‚úÖ Galer√≠a Controller inicializado")):console.warn("Galer√≠a: No se encontraron proyectos")}},{key:"setupFilters",value:function(){var t=this;0!==this.filtroBtns.length&&(this.filtroBtns.forEach(function(e){e.addEventListener("click",function(){t.cambiarFiltro(e)})}),this.actualizarBotonVerMas("todos"))}},{key:"cambiarFiltro",value:function(t){this.filtroBtns.forEach(function(t){return t.classList.remove("activo")}),t.classList.add("activo");var e=t.dataset.filtro;this.filtroActual=e,this.mostrandoTodos=!1,this.aplicarFiltroConAnimacion(e),this.actualizarBotonVerMas(e),BombasAyalaUtils.trackEvent("gallery_filter","proyectos",e),console.log("üé® Filtro galer√≠a aplicado: ".concat(e))}},{key:"aplicarFiltroConAnimacion",value:function(t){var e=this;this.tarjetasProyecto.forEach(function(o,n){var i=o.dataset.categoria,r="todos"===t||i===t,a=o.classList.contains("proyecto-oculto");o.style.transform="scale(0.8)",o.style.opacity="0",setTimeout(function(){!r||a&&!e.mostrandoTodos?e.ocultarProyecto(o):e.mostrarProyecto(o,n)},150)})}},{key:"mostrarProyecto",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.style.display="block",setTimeout(function(){t.style.transform="scale(1)",t.style.opacity="1",t.style.transition="all 0.4s ease"},50*e)}},{key:"ocultarProyecto",value:function(t){t.style.display="none",t.style.transform="scale(0.8)",t.style.opacity="0"}},{key:"setupVerMasButton",value:function(){var t=this;this.btnVerMas&&this.btnVerMas.addEventListener("click",function(){t.toggleVerMasProyectos()})}},{key:"toggleVerMasProyectos",value:function(){this.mostrandoTodos?this.mostrarMenosProyectos():this.mostrarMasProyectos()}},{key:"mostrarMasProyectos",value:function(){var t=this;this.btnVerMas.innerHTML='<i class="fas fa-spinner fa-spin"></i> Cargando proyectos...',setTimeout(function(){t.getProyectosOcultos().forEach(function(e,o){t.mostrarProyecto(e,o),e.classList.remove("proyecto-oculto")}),t.mostrandoTodos=!0,t.actualizarBotonVerMas(t.filtroActual),BombasAyalaUtils.trackEvent("ver_mas_proyectos","galeria",t.filtroActual)},800)}},{key:"mostrarMenosProyectos",value:function(){var t=this;this.tarjetasProyecto.forEach(function(e){e.classList.contains("proyecto-inicial")||(e.classList.add("proyecto-oculto"),t.ocultarProyecto(e))}),this.mostrandoTodos=!1,this.aplicarFiltroConAnimacion(this.filtroActual),this.actualizarBotonVerMas(this.filtroActual),BombasAyalaUtils.trackEvent("ver_menos_proyectos","galeria",this.filtroActual)}},{key:"getProyectosOcultos",value:function(){var t=this;return Array.from(this.tarjetasProyecto).filter(function(e){var o=e.getAttribute("data-categoria"),n="todos"===t.filtroActual||o===t.filtroActual,i=e.classList.contains("proyecto-oculto");return n&&i})}},{key:"actualizarBotonVerMas",value:function(){if(this.btnVerMas){var t=this.getProyectosOcultos();t.length>0&&!this.mostrandoTodos?(this.btnVerMas.style.display="inline-block",this.btnVerMas.innerHTML='<i class="fas fa-plus-circle"></i> Ver M√°s Proyectos'):this.mostrandoTodos&&0===t.length?(this.btnVerMas.innerHTML='<i class="fas fa-minus-circle"></i> Ver Menos',this.btnVerMas.style.display="inline-block"):this.btnVerMas.style.display="none"}}},{key:"setupLightbox",value:function(){var t=this;this.imagenesGaleria.forEach(function(e){e.addEventListener("click",function(){t.abrirLightbox(e)})})}},{key:"abrirLightbox",value:function(t){var e=document.createElement("div");e.className="lightbox-modal",e.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100vw;\n            height: 100vh;\n            background: rgba(15, 35, 70, 0.95);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 9999;\n            cursor: zoom-out;\n            opacity: 0;\n            transition: opacity 0.3s ease;\n        ";var o=new Image;o.src=t.src,o.style.cssText="\n            max-height: 90vh;\n            max-width: 90vw;\n            object-fit: contain;\n            border-radius: 8px;\n            box-shadow: 0 20px 40px rgba(0,0,0,0.3);\n            transform: scale(0.8);\n            transition: transform 0.3s ease;\n        ";var n=document.createElement("span");n.innerHTML="&times;",n.style.cssText="\n            position: absolute;\n            top: 30px;\n            right: 30px;\n            color: white;\n            font-size: 40px;\n            cursor: pointer;\n            background: rgba(0,0,0,0.5);\n            width: 60px;\n            height: 60px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-radius: 50%;\n            transition: background 0.3s ease;\n        ",n.addEventListener("mouseenter",function(){n.style.background="rgba(0,0,0,0.8)"}),n.addEventListener("mouseleave",function(){n.style.background="rgba(0,0,0,0.5)"});var i=this.crearInfoProyecto(t);e.appendChild(o),e.appendChild(n),i&&e.appendChild(i);var r=function(){e.style.opacity="0",o.style.transform="scale(0.8)",setTimeout(function(){document.body.contains(e)&&document.body.removeChild(e),document.body.style.overflow=""},300)};e.addEventListener("click",function(t){t.target===e&&r()}),n.addEventListener("click",r);var a=function(t){"Escape"===t.key&&(r(),document.removeEventListener("keydown",a))};document.addEventListener("keydown",a),document.body.appendChild(e),document.body.style.overflow="hidden",setTimeout(function(){e.style.opacity="1",o.style.transform="scale(1)"},50),BombasAyalaUtils.trackEvent("lightbox_open","galeria","imagen_proyecto")}},{key:"crearInfoProyecto",value:function(t){var e,o,n=t.closest(".tarjeta-proyecto");if(!n)return null;var i=null===(e=n.querySelector(".proyecto-titulo"))||void 0===e?void 0:e.textContent,r=null===(o=n.querySelector(".proyecto-descripcion"))||void 0===o?void 0:o.textContent;if(!i)return null;var a=document.createElement("div");return a.style.cssText="\n            position: absolute;\n            bottom: 30px;\n            left: 30px;\n            right: 30px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 20px;\n            border-radius: 8px;\n            max-width: 500px;\n        ",a.innerHTML='\n            <h3 style="margin: 0 0 10px 0; font-size: 1.5rem;">'.concat(i,"</h3>\n            ").concat(r?'<p style="margin: 0; opacity: 0.9;">'.concat(r,"</p>"):"","\n        "),a}},{key:"setupAnimations",value:function(){BombasAyalaUtils.animateOnScroll(".tarjeta-proyecto, .paso-proceso, .titulo-seccion");var t=BombasAyalaUtils.createAnimationObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0) scale(1)")})});this.tarjetasProyecto.forEach(function(e){e.style.transition="opacity 0.6s ease, transform 0.6s ease",e.style.opacity="0",e.style.transform="translateY(30px) scale(0.95)",t.observe(e)})}},{key:"filtrarPor",value:function(t){var e=document.querySelector('[data-filtro="'.concat(t,'"]'));e&&this.cambiarFiltro(e)}},{key:"getStats",value:function(){return{totalProyectos:this.tarjetasProyecto.length,proyectosVisibles:Array.from(this.tarjetasProyecto).filter(function(t){return"none"!==t.style.display}).length,filtroActual:this.filtroActual,mostrandoTodos:this.mostrandoTodos}}}])}();function initGaleria(){document.querySelector(".tarjeta-proyecto, .galeria-proyectos")&&(window.galeriaController=new GaleriaController,window.Galeria={filtrar:function(t){var e;return null===(e=window.galeriaController)||void 0===e?void 0:e.filtrarPor(t)},stats:function(){var t;return null===(t=window.galeriaController)||void 0===t?void 0:t.getStats()}})}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}document.addEventListener("DOMContentLoaded",initGaleria),"undefined"!=typeof module&&module.exports&&(module.exports=GaleriaController);var HeaderController=function(){return _createClass(function t(){_classCallCheck(this,t),this.headerUnificado=document.querySelector(".header-unificado"),this.contactBar=document.querySelector(".contact-bar"),this.navPrincipal=document.querySelector(".nav-principal"),this.menuToggle=document.querySelector(".mobile-menu-toggle"),this.menuOverlay=document.querySelector(".mobile-menu-overlay"),this.navMenu=document.querySelector(".nav-menu"),this.isContactBarVisible=!0,this.lastScrollTop=0,this.scrollThreshold=80,this.isMobileMenuOpen=!1,this.contactBarHeight=0,this.navHeight=0,this.totalHeaderHeight=0,this.init()},[{key:"init",value:function(){this.headerUnificado&&this.contactBar&&this.navPrincipal?(this.calculateDimensions(),this.setInitialBodyMargin(),this.setupScrollListener(),this.setupMobileMenu(),this.handleResize(),console.log("‚úÖ Header Controller inicializado")):console.warn("Header: Elementos principales no encontrados")}},{key:"calculateDimensions",value:function(){this.contactBarHeight=this.contactBar.offsetHeight,this.navHeight=this.navPrincipal.offsetHeight,this.totalHeaderHeight=this.contactBarHeight+this.navHeight,console.log("üìê Dimensiones calculadas:",{contactBar:this.contactBarHeight,nav:this.navHeight,total:this.totalHeaderHeight})}},{key:"setInitialBodyMargin",value:function(){window.innerWidth<=767?document.body.style.marginTop="100px":document.body.style.marginTop="120px"}},{key:"updateBodyMargin",value:function(){this.isContactBarVisible?window.innerWidth<=767?document.body.style.marginTop="100px":document.body.style.marginTop="120px":window.innerWidth<=767?document.body.style.marginTop="70px":document.body.style.marginTop="80px"}},{key:"setupScrollListener",value:function(){var t=this,e=!1;window.addEventListener("scroll",function(){e||(requestAnimationFrame(function(){t.handleScrollEvent(),e=!1}),e=!0)},{passive:!0})}},{key:"handleScrollEvent",value:function(){var t=window.pageYOffset||document.documentElement.scrollTop,e=t>this.lastScrollTop?"down":"up";Math.abs(t-this.lastScrollTop)<5||("down"===e&&t>this.scrollThreshold?this.hideContactBar():"up"===e&&t<this.scrollThreshold&&this.showContactBar()),this.lastScrollTop=t}},{key:"hideContactBar",value:function(){this.isContactBarVisible&&(this.isContactBarVisible=!1,this.contactBar.classList.add("hidden"),this.headerUnificado.classList.add("contact-hidden"),document.body.classList.add("contact-hidden"),this.updateBodyMargin(),console.log("üì± Contact bar oculto"))}},{key:"showContactBar",value:function(){this.isContactBarVisible||(this.isContactBarVisible=!0,this.contactBar.classList.remove("hidden"),this.headerUnificado.classList.remove("contact-hidden"),document.body.classList.remove("contact-hidden"),this.updateBodyMargin(),console.log("üì± Contact bar mostrado"))}},{key:"setupMobileMenu",value:function(){var t=this;if(this.menuToggle){if(this.menuToggle.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.toggleMobileMenu()}),this.menuOverlay&&this.menuOverlay.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.closeMobileMenu()}),this.navMenu)this.navMenu.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){setTimeout(function(){t.closeMobileMenu()},100)})});document.addEventListener("keydown",function(e){"Escape"===e.key&&t.isMobileMenuOpen&&t.closeMobileMenu()}),window.addEventListener("orientationchange",function(){setTimeout(function(){t.isMobileMenuOpen&&t.closeMobileMenu()},100)})}else console.warn("Bot√≥n de men√∫ m√≥vil no encontrado")}},{key:"toggleMobileMenu",value:function(){window.innerWidth>767||(this.isMobileMenuOpen?this.closeMobileMenu():this.openMobileMenu())}},{key:"openMobileMenu",value:function(){var t,e,o;if(!(window.innerWidth>767||this.isMobileMenuOpen)){this.isMobileMenuOpen=!0,null===(t=this.menuToggle)||void 0===t||t.classList.add("activo"),null===(e=this.navMenu)||void 0===e||e.classList.add("activo"),null===(o=this.menuOverlay)||void 0===o||o.classList.add("activo"),document.body.style.overflow="hidden";var n=document.querySelector(".nav-container");n&&n.classList.add("menu-open"),console.log("üì± Men√∫ m√≥vil abierto")}}},{key:"closeMobileMenu",value:function(){var t,e,o;if(this.isMobileMenuOpen){this.isMobileMenuOpen=!1,null===(t=this.menuToggle)||void 0===t||t.classList.remove("activo"),null===(e=this.navMenu)||void 0===e||e.classList.remove("activo"),null===(o=this.menuOverlay)||void 0===o||o.classList.remove("activo"),document.body.style.overflow="";var n=document.querySelector(".nav-container");n&&n.classList.remove("menu-open"),console.log("üì± Men√∫ m√≥vil cerrado")}}},{key:"handleResize",value:function(){var t=this;window.addEventListener("resize",BombasAyalaUtils.debounce(function(){t.calculateDimensions(),t.updateBodyMargin(),window.innerWidth>767&&t.isMobileMenuOpen&&t.closeMobileMenu(),t.setInitialBodyMargin()},250))}},{key:"forceShowContactBar",value:function(){this.showContactBar()}},{key:"forceHideContactBar",value:function(){this.hideContactBar()}},{key:"getState",value:function(){return{contactBarVisible:this.isContactBarVisible,mobileMenuOpen:this.isMobileMenuOpen,scrollPosition:window.pageYOffset,isMobile:window.innerWidth<=767,dimensions:{contactBar:this.contactBarHeight,nav:this.navHeight,total:this.totalHeaderHeight}}}},{key:"destroy",value:function(){document.body.style.marginTop="",document.body.style.overflow="",document.body.classList.remove("contact-hidden"),this.isMobileMenuOpen&&this.closeMobileMenu(),console.log("üóëÔ∏è Header Controller destruido")}}])}();function initHeader(){window.headerController=new HeaderController,window.Header={show:function(){var t;return null===(t=window.headerController)||void 0===t?void 0:t.forceShowContactBar()},hide:function(){var t;return null===(t=window.headerController)||void 0===t?void 0:t.forceHideContactBar()},getState:function(){var t;return null===(t=window.headerController)||void 0===t?void 0:t.getState()},closeMenu:function(){var t;return null===(t=window.headerController)||void 0===t?void 0:t.closeMobileMenu()}}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initHeader):initHeader(),"undefined"!=typeof module&&module.exports&&(module.exports=HeaderController);var InicioController=function(){return _createClass(function t(){_classCallCheck(this,t),this.heroBackground=document.getElementById("heroBackground"),this.heroImage=document.getElementById("heroImage"),this.loadingIndicator=document.getElementById("loadingIndicator"),this.heroSection=document.getElementById("hero"),this.backgroundImages=["build/img/descargados/inicio/foto_1_1980.webp","build/img/descargados/inicio/foto_2_1980.webp","build/img/descargados/inicio/foto_3_1980.webp","build/img/descargados/inicio/foto_4_1980.webp"],this.mainImages=["build/img/descargados/inicio/foto_1_500.webp","build/img/descargados/inicio/foto_2_500.webp","build/img/descargados/inicio/foto_3_500.webp","build/img/descargados/inicio/foto_4_500.webp"],this.currentImageIndex=0,this.intervalId=null,this.isVisible=!0,this.init()},[{key:"init",value:function(){this.heroBackground&&this.heroImage?(this.preloadImages(),this.initializeHero(),this.initScrollAnimations(),this.setupVisibilityControl(),console.log("‚úÖ Inicio Controller inicializado")):console.warn("Hero: Elementos principales no encontrados")}},{key:"initializeHero",value:function(){var t=this;this.setBackgroundImage(0),this.setMainImage(0),setTimeout(function(){t.loadingIndicator&&t.loadingIndicator.classList.add("hidden")},1500),this.startImageRotation()}},{key:"setBackgroundImage",value:function(t){this.heroBackground&&(this.heroBackground.style.backgroundImage="url('".concat(this.backgroundImages[t],"')"))}},{key:"setMainImage",value:function(t){this.heroImage&&(this.heroImage.src=this.mainImages[t])}},{key:"changeToNextImage",value:function(){this.currentImageIndex=(this.currentImageIndex+1)%this.backgroundImages.length,this.setBackgroundImage(this.currentImageIndex),this.setMainImage(this.currentImageIndex),console.log("üñºÔ∏è Imagen cambiada a: ".concat(this.currentImageIndex+1))}},{key:"startImageRotation",value:function(){var t=this;this.intervalId=setInterval(function(){t.isVisible&&t.changeToNextImage()},5e3)}},{key:"stopImageRotation",value:function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}},{key:"initScrollAnimations",value:function(){BombasAyalaUtils.animateOnScroll(".hero-content, .hero-image"),BombasAyalaUtils.animateOnScroll(".estadistica-item, .servicio-destacado, .testimonio-card"),this.initCounters()}},{key:"initCounters",value:function(){var t=document.querySelectorAll(".numero-estadistica");if(0!==t.length){var e=BombasAyalaUtils.createAnimationObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var o=t.target,n=parseInt(o.getAttribute("data-numero"));n&&(BombasAyalaUtils.animateCounter(o,0,n,2e3),e.unobserve(o))}})},{threshold:.5});t.forEach(function(t){e.observe(t)})}}},{key:"setupVisibilityControl",value:function(){var t=this;document.addEventListener("visibilitychange",function(){document.hidden?t.pauseAnimations():t.resumeAnimations()});window.addEventListener("scroll",BombasAyalaUtils.debounce(function(){var e,o=window.pageYOffset,n=null===(e=t.heroSection)||void 0===e?void 0:e.getBoundingClientRect();n&&(n.bottom<0||n.top>window.innerHeight)?t.isVisible=!1:t.isVisible=!0},100),{passive:!0})}},{key:"pauseAnimations",value:function(){this.isVisible=!1,this.heroSection&&(this.heroSection.style.animationPlayState="paused"),console.log("‚è∏Ô∏è Animaciones pausadas")}},{key:"resumeAnimations",value:function(){this.isVisible=!0,this.heroSection&&(this.heroSection.style.animationPlayState="running"),console.log("‚ñ∂Ô∏è Animaciones reanudadas")}},{key:"preloadImages",value:function(){var t=[].concat(_toConsumableArray(this.backgroundImages),_toConsumableArray(this.mainImages));BombasAyalaUtils.preloadImages(t),console.log("üñºÔ∏è Precargando ".concat(t.length," im√°genes del hero"))}},{key:"nextImage",value:function(){this.changeToNextImage()}},{key:"previousImage",value:function(){this.currentImageIndex=this.currentImageIndex-1,this.currentImageIndex<0&&(this.currentImageIndex=this.backgroundImages.length-1),this.setBackgroundImage(this.currentImageIndex),this.setMainImage(this.currentImageIndex)}},{key:"goToImage",value:function(t){t>=0&&t<this.backgroundImages.length&&(this.currentImageIndex=t,this.setBackgroundImage(this.currentImageIndex),this.setMainImage(this.currentImageIndex))}},{key:"getState",value:function(){return{currentImage:this.currentImageIndex,totalImages:this.backgroundImages.length,isVisible:this.isVisible,isRotating:null!==this.intervalId}}},{key:"destroy",value:function(){this.stopImageRotation(),console.log("üóëÔ∏è Inicio Controller destruido")}}])}();function changeBackgroundImage(){window.inicioController&&window.inicioController.nextImage()}function initializeHero(){console.log("üîÑ initializeHero legacy llamada")}function initializeSmoothScroll(){console.log("üîÑ initializeSmoothScroll legacy llamada")}function initializeScrollAnimations(){console.log("üîÑ initializeScrollAnimations legacy llamada")}function preloadImages(){console.log("üîÑ preloadImages legacy llamada")}function initInicio(){document.querySelector("#heroBackground, .hero-section")&&(window.inicioController=new InicioController,window.Hero={next:function(){var t;return null===(t=window.inicioController)||void 0===t?void 0:t.nextImage()},previous:function(){var t;return null===(t=window.inicioController)||void 0===t?void 0:t.previousImage()},goTo:function(t){var e;return null===(e=window.inicioController)||void 0===e?void 0:e.goToImage(t)},getState:function(){var t;return null===(t=window.inicioController)||void 0===t?void 0:t.getState()},pause:function(){var t;return null===(t=window.inicioController)||void 0===t?void 0:t.pauseAnimations()},resume:function(){var t;return null===(t=window.inicioController)||void 0===t?void 0:t.resumeAnimations()}})}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}document.addEventListener("DOMContentLoaded",function(){initInicio(),preloadImages(),initializeHero(),initializeSmoothScroll(),initializeScrollAnimations()}),"undefined"!=typeof module&&module.exports&&(module.exports=InicioController);var FlotantesController=function(){return _createClass(function t(){_classCallCheck(this,t),this.flotantesContainer=document.querySelector(".flotantes"),this.flotantes=document.querySelectorAll(".flotante"),this.isVisible=!0,this.lastScrollTop=0,this.hideThreshold=200,this.init()},[{key:"init",value:function(){this.flotantesContainer&&0!==this.flotantes.length?(this.setupScrollBehavior(),this.setupClickEffects(),this.setupTooltips(),this.setupWhatsAppIntegration(),this.adjustForMobile(),console.log("‚úÖ Flotantes Controller inicializado")):console.warn("Flotantes: Elementos no encontrados")}},{key:"setupScrollBehavior",value:function(){var t=this;window.addEventListener("scroll",BombasAyalaUtils.debounce(function(){var e=window.pageYOffset,o=e>t.lastScrollTop?"down":"up";e>t.hideThreshold?"down"===o?t.hide():"up"===o&&t.show():t.show(),t.lastScrollTop=e},100),{passive:!0})}},{key:"setupClickEffects",value:function(){var t=this;this.flotantes.forEach(function(e){e.addEventListener("click",function(o){t.addClickEffect(e),t.trackClick(e)})})}},{key:"addClickEffect",value:function(t){t.style.transform="scale(0.9)",setTimeout(function(){t.style.transform=""},150),"vibrate"in navigator&&navigator.vibrate(50)}},{key:"trackClick",value:function(t){var e="unknown";t.classList.contains("whatsapp")?e="WhatsApp":t.classList.contains("llamada")||t.classList.contains("phone")?e="Llamada":t.classList.contains("instagram")&&(e="Instagram"),console.log("üì± Click en flotante: ".concat(e)),BombasAyalaUtils.trackEvent("flotante_click","contact",e)}},{key:"setupTooltips",value:function(){var t=["Chatea por WhatsApp","Ll√°manos ahora","S√≠guenos en Instagram"];this.flotantes.forEach(function(e,o){o<t.length&&(e.setAttribute("data-tooltip",t[o]),e.setAttribute("aria-label",t[o]))})}},{key:"setupWhatsAppIntegration",value:function(){var t=this,e=document.querySelector(".flotante.whatsapp");e&&e.addEventListener("click",function(e){e.preventDefault();var o=t.createDefaultWhatsAppMessage();BombasAyalaUtils.openWhatsApp(o),console.log("üì± WhatsApp abierto desde flotante")}),this.setupOtherWhatsAppButtons()}},{key:"setupOtherWhatsAppButtons",value:function(){var t=this;document.querySelectorAll("[data-whatsapp], .boton-whatsapp").forEach(function(e){e.addEventListener("click",function(o){o.preventDefault();var n,i=e.getAttribute("data-message"),r=e.getAttribute("data-producto"),a=e.getAttribute("data-especificaciones");n=i||(r?t.createProductWhatsAppMessage(r,a):t.createDefaultWhatsAppMessage()),BombasAyalaUtils.openWhatsApp(n),console.log("üì± WhatsApp abierto:",{producto:r,specs:a})})})}},{key:"createDefaultWhatsAppMessage",value:function(){return"¬°Hola! Me interesa conocer m√°s sobre sus servicios de bombas de agua. üíß\n\n¬øPodr√≠an brindarme informaci√≥n sobre sus productos y servicios?"}},{key:"createProductWhatsAppMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o="¬°Hola! Me interesa el siguiente producto:\n\n";return o+="üîß **Producto:** ".concat(t,"\n"),e&&(o+="üìã **Especificaciones:** ".concat(e,"\n")),o+="\n¬øPodr√≠an enviarme m√°s informaci√≥n y cotizaci√≥n?\n\n¬°Gracias!"}},{key:"show",value:function(){this.isVisible||(this.flotantesContainer.style.opacity="1",this.flotantesContainer.style.visibility="visible",this.flotantesContainer.style.transform=this.getTransformForDevice(),this.isVisible=!0)}},{key:"hide",value:function(){this.isVisible&&(this.flotantesContainer.style.opacity="0",this.flotantesContainer.style.visibility="hidden",this.flotantesContainer.style.transform=this.getHiddenTransformForDevice(),this.isVisible=!1)}},{key:"getTransformForDevice",value:function(){return BombasAyalaUtils.isMobile()?"translateY(0) translateX(0)":"translateY(-50%) translateX(0)"}},{key:"getHiddenTransformForDevice",value:function(){return BombasAyalaUtils.isMobile()?"translateY(0) translateX(100px)":"translateY(-50%) translateX(100px)"}},{key:"adjustForMobile",value:function(){var t=this;BombasAyalaUtils.isMobile()&&(this.flotantesContainer.style.cssText+="\n                position: fixed;\n                bottom: 20px;\n                right: 20px;\n                top: auto;\n                transform: none;\n                flex-direction: row;\n                gap: 10px;\n            "),window.addEventListener("resize",BombasAyalaUtils.debounce(function(){t.adjustForMobile()},250))}},{key:"forceShow",value:function(){this.show()}},{key:"forceHide",value:function(){this.hide()}},{key:"toggle",value:function(){this.isVisible?this.hide():this.show()}},{key:"getState",value:function(){return{isVisible:this.isVisible,isMobile:BombasAyalaUtils.isMobile(),totalFlotantes:this.flotantes.length}}}])}();function inicializarCotizaciones(){document.querySelectorAll(".boton-cotizar, .boton-producto-cotizar").forEach(function(t){t.addEventListener("click",function(){var t=this.dataset.producto||"Producto no especificado",e=this.dataset.especificaciones||"",o=this.dataset.whatsapp||"51997984102",n={producto:t,descripcion:e},i=BombasAyalaUtils.createQuoteMessage(n);BombasAyalaUtils.openWhatsApp(i,o),BombasAyalaUtils.trackEvent("cotizacion_click","productos",t)})})}function initFlotantes(){window.flotantesController=new FlotantesController,inicializarCotizaciones(),window.Flotantes={show:function(){var t;return null===(t=window.flotantesController)||void 0===t?void 0:t.forceShow()},hide:function(){var t;return null===(t=window.flotantesController)||void 0===t?void 0:t.forceHide()},toggle:function(){var t;return null===(t=window.flotantesController)||void 0===t?void 0:t.toggle()},getState:function(){var t;return null===(t=window.flotantesController)||void 0===t?void 0:t.getState()}},window.WhatsApp={open:function(t,e){return BombasAyalaUtils.openWhatsApp(t,e)},quote:function(t){var e=BombasAyalaUtils.createQuoteMessage(t);BombasAyalaUtils.openWhatsApp(e)}}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(t,e,o){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}document.addEventListener("DOMContentLoaded",initFlotantes),"undefined"!=typeof module&&module.exports&&(module.exports=FlotantesController);var NosotrosController=function(){return _createClass(function t(){_classCallCheck(this,t),this.contadores=document.querySelectorAll(".numero-estadistica"),this.overlayVideo=document.querySelector(".overlay-imagen"),this.iconoPlay=document.querySelector(".icono-play"),this.listaDistritos=document.querySelector(".lista-distritos"),this.zonas={norte:{distritos:["Anc√≥n","Carabayllo","Comas","Independencia","Los Olivos","Puente Piedra","San Mart√≠n de Porres","Santa Rosa"],color:"var(--cian-principal)",descripcion:"Lima Norte - 8 distritos"},sur:{distritos:["Chorrillos","Lur√≠n","Pachac√°mac","Pucusana","San Juan de Miraflores","Villa El Salvador","Villa Mar√≠a del Triunfo"],color:"var(--verde-esmeralda)",descripcion:"Lima Sur - 7 distritos"},este:{distritos:["Ate","Chaclacayo","Cieneguilla","El Agustino","La Molina","Lurigancho-Chosica","San Juan de Lurigancho","Santa Anita"],color:"var(--naranja-tecnico)",descripcion:"Lima Este - 8 distritos"},oeste:{distritos:["Barranco","Bre√±a","Callao","Jes√∫s Mar√≠a","La Victoria","Lima Cercado","Lince","Magdalena del Mar","Miraflores","Pueblo Libre","R√≠mac","San Borja","San Isidro","San Luis","San Miguel","Santiago de Surco","Surquillo"],color:"var(--azul-claro)",descripcion:"Lima Oeste - 17 distritos"}},this.estadisticas={experiencia:25,clientes:5e3,servicios:15e3,atencion:24},this.init()},[{key:"init",value:function(){this.initContadoresAnimados(),this.initMapaInteractivo(),this.initVideoOverlay(),this.initAnimaciones(),this.initInformacionInicial(),this.initBotonesCTA(),console.log("‚úÖ Nosotros Controller inicializado")}},{key:"initContadoresAnimados",value:function(){if(0!==this.contadores.length){var t=BombasAyalaUtils.createAnimationObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var o=e.target,n=parseInt(o.getAttribute("data-numero"));n&&(BombasAyalaUtils.animateCounter(o,0,n,2e3),t.unobserve(o),console.log("üìä Contador animado: ".concat(n)))}})},{threshold:.5});this.contadores.forEach(function(e){t.observe(e)})}}},{key:"initMapaInteractivo",value:function(){var t=this,e=document.querySelectorAll(".zona-norte, .zona-sur, .zona-este, .zona-oeste");0!==e.length&&e.forEach(function(e){e.addEventListener("mouseenter",function(){var o=t.getTipoZona(e);t.mostrarDistritos(o)}),e.addEventListener("mouseover",function(){e.style.transform="scale(1.05)",e.style.zIndex="10",e.style.transition="all 0.3s ease"}),e.addEventListener("mouseout",function(){e.style.transform="scale(1)",e.style.zIndex="1"}),e.addEventListener("click",function(){var o=t.getTipoZona(e);t.mostrarInformacionZona(o)})})}},{key:"getTipoZona",value:function(t){return t.classList.contains("zona-norte")?"norte":t.classList.contains("zona-sur")?"sur":t.classList.contains("zona-este")?"este":"oeste"}},{key:"mostrarDistritos",value:function(t){if(this.listaDistritos){var e=this.zonas[t];if(e)this.listaDistritos.innerHTML='\n            <div class="zona-titulo" style="color: '.concat(e.color,'; font-weight: 700;">\n                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                    <circle cx="12" cy="10" r="3"/>\n                    <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/>\n                </svg>\n                ').concat(e.descripcion,'\n            </div>\n            <div class="distritos-grid">\n                ').concat(e.distritos.map(function(t){return'\n                    <div class="distrito-item" style="color: '.concat(e.color,'; font-weight: 600;">\n                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                            <circle cx="12" cy="10" r="3"/>\n                            <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/>\n                        </svg>\n                        ').concat(t,"\n                    </div>\n                ")}).join(""),"\n            </div>\n        "),this.listaDistritos.querySelectorAll(".distrito-item").forEach(function(t,e){t.style.opacity="0",t.style.transform="translateX(-20px)",setTimeout(function(){t.style.transition="all 0.3s ease",t.style.opacity="1",t.style.transform="translateX(0)"},50*e)}),BombasAyalaUtils.trackEvent("mapa_hover","nosotros",t)}}},{key:"mostrarInformacionZona",value:function(t){var e=this.zonas[t];if(e){var o="üìç **".concat(e.descripcion,"**\n\n")+"üèòÔ∏è **Distritos atendidos:** ".concat(e.distritos.length,"\n\n")+"üìã **Lista completa:**\n".concat(e.distritos.join(", "),"\n\n")+"üíß **Servicios disponibles:**\n‚Ä¢ Instalaci√≥n de bombas\n‚Ä¢ Mantenimiento preventivo\n‚Ä¢ Reparaciones de emergencia\n‚Ä¢ Asesor√≠a t√©cnica\n\nüìû **¬øNecesitas servicio en esta zona?**";BombasAyalaUtils.openWhatsApp(o),BombasAyalaUtils.trackEvent("zona_click","nosotros",t)}}},{key:"initVideoOverlay",value:function(){var t=this;this.overlayVideo&&this.iconoPlay&&this.overlayVideo.addEventListener("click",function(){t.iconoPlay.style.transform="scale(1.2)",setTimeout(function(){t.iconoPlay.style.transform="scale(1)"},200),t.mostrarModalVideo(),BombasAyalaUtils.trackEvent("video_play","nosotros","video_empresarial")})}},{key:"mostrarModalVideo",value:function(){var t=document.createElement("div");t.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100vw;\n            height: 100vh;\n            background: rgba(0,0,0,0.9);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 9999;\n        ",t.innerHTML='\n            <div style="text-align: center; color: white; max-width: 500px; padding: 20px;">\n                <h3>üé• Video de Presentaci√≥n</h3>\n                <p>Aqu√≠ se mostrar√≠a el video institucional de Bombas Ayala</p>\n                <br>\n                <button onclick="this.closest(\'div\').parentNode.remove()" \n                        style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">\n                    Cerrar\n                </button>\n            </div>\n        ',document.body.appendChild(t),t.addEventListener("click",function(e){e.target===t&&document.body.removeChild(t)})}},{key:"initAnimaciones",value:function(){BombasAyalaUtils.animateOnScroll(".estadistica-item, .mision-section, .vision-section, .valor-item");var t=BombasAyalaUtils.createAnimationObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)",e.target.style.transition="all 0.6s ease-out",t.unobserve(e.target))})});document.querySelectorAll(".estadistica-item, .mision-section, .vision-section, .valor-item").forEach(function(e){e.style.opacity="0",e.style.transform="translateY(30px)",t.observe(e)})}},{key:"initInformacionInicial",value:function(){if(this.listaDistritos&&""===this.listaDistritos.innerHTML.trim()){var t=this.getDatosLima();this.listaDistritos.innerHTML='\n            <div class="zona-titulo" style="color: var(--azul-corporativo); font-weight: 700;">\n                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                    <circle cx="12" cy="10" r="3"/>\n                    <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/>\n                </svg>\n                Cobertura en Lima Metropolitana (4 Zonas)\n            </div>\n            <div class="distritos-grid">\n                <div class="distrito-item" style="color: var(--gris-medio);">\n                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                        <circle cx="12" cy="12" r="10"/>\n                        <line x1="12" y1="16" x2="12" y2="12"/>\n                        <line x1="12" y1="8" x2="12.01" y2="8"/>\n                    </svg>\n                    Pasa el cursor sobre una zona para ver los distritos\n                </div>\n                <div class="distrito-item" style="color: var(--azul-corporativo);">\n                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                        <circle cx="12" cy="10" r="3"/>\n                        <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/>\n                    </svg>\n                    '.concat(t.totalDistritos,' distritos en 4 zonas\n                </div>\n                <div class="distrito-item" style="color: var(--verde-esmeralda);">\n                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                        <circle cx="12" cy="12" r="10"/>\n                        <polyline points="12,6 12,12 16,14"/>\n                    </svg>\n                    Tiempo respuesta: ').concat(t.tiempoRespuestaPromedio,"\n                </div>\n            </div>\n        ")}}},{key:"initBotonesCTA",value:function(){document.querySelectorAll(".boton-cta").forEach(function(t){t.addEventListener("click",function(){var e=t.textContent.trim(),o=t.classList.contains("primario")?"primario":"secundario";BombasAyalaUtils.trackEvent("cta_click","nosotros",e,o),console.log("üéØ CTA clicked: ".concat(e," (").concat(o,")"))})})}},{key:"getDatosLima",value:function(){return{totalDistritos:Object.values(this.zonas).reduce(function(t,e){return t+e.distritos.length},0),poblacionAproximada:"10.5 millones",areaCobertura:"100%",tiempoRespuestaPromedio:"20 minutos",zonasCobertura:4}}},{key:"mostrarZona",value:function(t){this.mostrarDistritos(t)}},{key:"actualizarEstadisticas",value:function(t){var e=this;Object.keys(t).forEach(function(o){if(void 0!==e.estadisticas[o]){e.estadisticas[o]=t[o];var n=document.querySelector('[data-numero="'.concat(e.estadisticas[o],'"]'));n&&n.setAttribute("data-numero",t[o])}}),console.log("üìä Estad√≠sticas actualizadas:",t)}},{key:"getStats",value:function(){return _objectSpread(_objectSpread({},this.estadisticas),{},{datosLima:this.getDatosLima(),zonas:Object.keys(this.zonas)})}}])}();function mostrarDistritos(t){window.nosotrosController&&window.nosotrosController.mostrarZona(t)}function initNosotros(){var t,e;document.querySelector(".numero-estadistica, .zona-norte, .mision-section")&&(window.nosotrosController=new NosotrosController,window.Nosotros={mostrarZona:function(t){var e;return null===(e=window.nosotrosController)||void 0===e?void 0:e.mostrarZona(t)},actualizarStats:function(t){var e;return null===(e=window.nosotrosController)||void 0===e?void 0:e.actualizarEstadisticas(t)},getStats:function(){var t;return null===(t=window.nosotrosController)||void 0===t?void 0:t.getStats()}},window.BombasAyala={mostrarDistritos:mostrarDistritos,actualizarEstadisticas:function(t){var e;return null===(e=window.nosotrosController)||void 0===e?void 0:e.actualizarEstadisticas(t)},datosLima:null===(t=window.nosotrosController)||void 0===t?void 0:t.getDatosLima(),zonas:null===(e=window.nosotrosController)||void 0===e?void 0:e.zonas})}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}document.addEventListener("DOMContentLoaded",function(){initNosotros(),document.body.style.opacity="1",console.log("üö∞ Bombas Ayala - P√°gina Nosotros iniciada"),console.log("üìç Zonas cubiertas: Norte, Sur, Este, Oeste (4 zonas)"),console.log("‚è±Ô∏è Scripts cargados correctamente")}),"undefined"!=typeof module&&module.exports&&(module.exports=NosotrosController);var ProductosController=function(){return _createClass(function t(){_classCallCheck(this,t),this.filtros=document.querySelectorAll(".filtro-btn"),this.productos=document.querySelectorAll(".producto-card"),this.btnVerMas=document.getElementById("btnVerMasProductos"),this.filtroActual="todos",this.mostrandoTodos=!1,this.productosPorPagina=4,this.init()},[{key:"init",value:function(){0!==this.productos.length?(this.setupFilters(),this.setupVerMasButton(),this.setupAnimations(),this.setupHoverEffects(),this.setupCotizaciones(),console.log("‚úÖ Productos Controller inicializado")):console.warn("Productos: No se encontraron productos")}},{key:"setupFilters",value:function(){var t=this;0!==this.filtros.length&&(this.filtros.forEach(function(e){e.addEventListener("click",function(){t.cambiarFiltro(e)})}),this.actualizarBotonVerMas())}},{key:"cambiarFiltro",value:function(t){this.filtros.forEach(function(t){return t.classList.remove("activo")}),t.classList.add("activo");var e=t.dataset.filtro;this.filtroActual=e,this.mostrandoTodos=!1,this.aplicarFiltro(e),this.actualizarBotonVerMas(),BombasAyalaUtils.trackEvent("filter_change","productos",e),console.log("üîç Filtro aplicado: ".concat(e))}},{key:"aplicarFiltro",value:function(t){var e=this;this.productos.forEach(function(o){var n=o.getAttribute("data-categoria"),i="todos"===t||n===t,r=o.classList.contains("producto-oculto");i&&(!r||e.mostrandoTodos)?e.mostrarProducto(o):e.ocultarProducto(o)})}},{key:"mostrarProducto",value:function(t){t.style.display="block",t.style.animation="fadeInUp 0.5s ease forwards"}},{key:"ocultarProducto",value:function(t){t.style.display="none"}},{key:"setupVerMasButton",value:function(){var t=this;this.btnVerMas&&this.btnVerMas.addEventListener("click",function(){t.toggleVerMas()})}},{key:"toggleVerMas",value:function(){this.mostrandoTodos?this.mostrarMenosProductos():this.mostrarMasProductos()}},{key:"mostrarMasProductos",value:function(){var t=this;this.btnVerMas.innerHTML='<i class="fas fa-spinner fa-spin"></i> Cargando...',setTimeout(function(){var e=t.getProductosOcultos();e.slice(0,t.productosPorPagina).forEach(function(e){t.mostrarProducto(e),e.classList.remove("producto-oculto")}),t.mostrandoTodos=e.length<=t.productosPorPagina,t.actualizarBotonVerMas(),BombasAyalaUtils.trackEvent("ver_mas_click","productos","mostrar_mas")},1e3)}},{key:"mostrarMenosProductos",value:function(){var t=this;this.productos.forEach(function(e){if(!e.classList.contains("producto-inicial")){var o=e.getAttribute("data-categoria");("todos"===t.filtroActual||o===t.filtroActual)&&(e.classList.add("producto-oculto"),t.ocultarProducto(e))}}),this.mostrandoTodos=!1,this.actualizarBotonVerMas(),BombasAyalaUtils.trackEvent("ver_mas_click","productos","mostrar_menos")}},{key:"getProductosOcultos",value:function(){var t=this;return Array.from(this.productos).filter(function(e){var o=e.getAttribute("data-categoria"),n="todos"===t.filtroActual||o===t.filtroActual,i=e.classList.contains("producto-oculto");return n&&i})}},{key:"actualizarBotonVerMas",value:function(){this.btnVerMas&&(this.getProductosOcultos().length>0&&!this.mostrandoTodos?(this.btnVerMas.style.display="inline-block",this.btnVerMas.innerHTML='<i class="fas fa-plus-circle"></i> Ver M√°s Productos'):this.mostrandoTodos?(this.btnVerMas.innerHTML='<i class="fas fa-minus-circle"></i> Ver Menos',this.btnVerMas.style.display="inline-block"):this.btnVerMas.style.display="none")}},{key:"setupAnimations",value:function(){BombasAyalaUtils.animateOnScroll(".producto-card, .producto-destacado");var t=BombasAyalaUtils.createAnimationObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.style.animation="fadeInUp 0.6s ease forwards")})});this.productos.forEach(function(e){return t.observe(e)})}},{key:"setupHoverEffects",value:function(){this.productos.forEach(function(t){t.addEventListener("mouseenter",function(){t.style.transform="translateY(-10px) scale(1.02)"}),t.addEventListener("mouseleave",function(){t.style.transform="translateY(0) scale(1)"})})}},{key:"setupCotizaciones",value:function(){document.querySelectorAll(".boton-cotizar, .boton-producto-cotizar").forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.producto||"Producto no especificado",o={producto:e,descripcion:t.dataset.especificaciones||""},n=BombasAyalaUtils.createQuoteMessage(o);BombasAyalaUtils.openWhatsApp(n),BombasAyalaUtils.trackEvent("cotizacion_producto","productos",e),console.log("üí¨ Cotizaci√≥n solicitada:",o)})})}},{key:"filtrarPor",value:function(t){var e=document.querySelector('[data-filtro="'.concat(t,'"]'));e&&this.cambiarFiltro(e)}},{key:"buscarProducto",value:function(t){var e=this;t=t.toLowerCase(),this.productos.forEach(function(o){var n,i,r=(null===(n=o.querySelector(".producto-titulo"))||void 0===n?void 0:n.textContent.toLowerCase())||"",a=(null===(i=o.querySelector(".producto-descripcion"))||void 0===i?void 0:i.textContent.toLowerCase())||"";r.includes(t)||a.includes(t)?e.mostrarProducto(o):e.ocultarProducto(o)}),BombasAyalaUtils.trackEvent("producto_search","productos",t)}},{key:"resetearFiltros",value:function(){this.filtrarPor("todos"),this.mostrandoTodos=!1,this.actualizarBotonVerMas()}},{key:"getStats",value:function(){return{total:this.productos.length,visibles:Array.from(this.productos).filter(function(t){return"none"!==t.style.display}).length,ocultos:this.getProductosOcultos().length,filtroActual:this.filtroActual,mostrandoTodos:this.mostrandoTodos}}}])}();function animarElementos(){console.log("üîÑ animarElementos legacy llamada")}function efectosHover(){console.log("üîÑ efectosHover legacy llamada")}function initProductos(){document.querySelector(".producto-card, .productos-grid")&&(window.productosController=new ProductosController,window.Productos={filtrar:function(t){var e;return null===(e=window.productosController)||void 0===e?void 0:e.filtrarPor(t)},buscar:function(t){var e;return null===(e=window.productosController)||void 0===e?void 0:e.buscarProducto(t)},resetear:function(){var t;return null===(t=window.productosController)||void 0===t?void 0:t.resetearFiltros()},stats:function(){var t;return null===(t=window.productosController)||void 0===t?void 0:t.getStats()}})}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}document.addEventListener("DOMContentLoaded",function(){initProductos(),animarElementos(),efectosHover()}),"undefined"!=typeof module&&module.exports&&(module.exports=ProductosController);var ServiciosController=function(){return _createClass(function t(){_classCallCheck(this,t),this.formularioCotizacion=document.getElementById("formularioCotizacion"),this.servicioCards=document.querySelectorAll(".servicio-card"),this.testimonioCards=document.querySelectorAll(".testimonio-card"),this.statsItems=document.querySelectorAll(".stat-item"),this.init()},[{key:"init",value:function(){this.initFormularioCotizacion(),this.initAnimaciones(),this.initContadores(),this.initBotonesCotizar(),this.initBotonesEmergencia(),this.initAccesibilidad(),console.log("‚úÖ Servicios Controller inicializado")}},{key:"initFormularioCotizacion",value:function(){var t=this;this.formularioCotizacion&&(this.formularioCotizacion.querySelectorAll("input, select, textarea").forEach(function(t){t.addEventListener("blur",function(){BombasAyalaUtils.validateField(t)}),t.addEventListener("input",function(){t.classList.contains("error")&&BombasAyalaUtils.validateField(t)})}),this.formularioCotizacion.addEventListener("submit",function(e){e.preventDefault(),t.enviarCotizacion()}))}},{key:"enviarCotizacion",value:function(){var t=this;if(BombasAyalaUtils.validateForm(this.formularioCotizacion)){var e=new FormData(this.formularioCotizacion),o={nombre:e.get("nombre"),telefono:e.get("telefono"),email:e.get("email"),servicio:e.get("servicio"),descripcion:e.get("descripcion")};if(o.nombre&&o.telefono&&o.servicio){var n=this.formularioCotizacion.querySelector('.boton-enviar, button[type="submit"]'),i=n?n.innerHTML:"";n&&(n.innerHTML='<i class="fas fa-spinner fa-spin"></i> ENVIANDO...',n.disabled=!0);var r=BombasAyalaUtils.createQuoteMessage(o);setTimeout(function(){BombasAyalaUtils.openWhatsApp(r),BombasAyalaUtils.showToast("¬°Cotizaci√≥n enviada! Te hemos redirigido a WhatsApp.","success"),t.formularioCotizacion.reset(),t.formularioCotizacion.querySelectorAll("input, select, textarea").forEach(function(t){t.classList.remove("error","success"),BombasAyalaUtils.removeFieldError(t)}),n&&(n.innerHTML=i,n.disabled=!1),BombasAyalaUtils.trackEvent("cotizacion_enviada","servicios",o.servicio),console.log("üìß Cotizaci√≥n enviada:",o)},1500)}else BombasAyalaUtils.showToast("Por favor, completa todos los campos obligatorios.","error")}else{BombasAyalaUtils.showToast("Por favor, corrige los errores en el formulario.","error");var a=this.formularioCotizacion.querySelector(".error");a&&(a.focus(),a.scrollIntoView({behavior:"smooth",block:"center"}))}}},{key:"initAnimaciones",value:function(){BombasAyalaUtils.animateOnScroll(".servicio-card, .testimonio-card"),this.servicioCards.forEach(function(t){t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease"}),this.testimonioCards.forEach(function(t){t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease"});var t=BombasAyalaUtils.createAnimationObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})});[].concat(_toConsumableArray(this.servicioCards),_toConsumableArray(this.testimonioCards)).forEach(function(e){t.observe(e)})}},{key:"initContadores",value:function(){if(0!==this.statsItems.length){var t=BombasAyalaUtils.createAnimationObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var o=e.target.querySelector(".stat-numero");if(!o)return;var n=o.textContent;if(n.includes("5000+"))BombasAyalaUtils.animateCounter(o,0,5e3,2e3);else if(n.includes("98%"))BombasAyalaUtils.animateCounter(o,0,98,2e3);else if(n.includes("24/7"))o.textContent="24/7";else{var i=n.match(/(\d+)/);if(i){var r=parseInt(i[1]);BombasAyalaUtils.animateCounter(o,0,r,2e3)}}t.unobserve(e.target)}})},{threshold:.5});this.statsItems.forEach(function(e){t.observe(e)})}}},{key:"initBotonesCotizar",value:function(){var t=this;document.querySelectorAll(".boton-cotizar").forEach(function(e){e.addEventListener("click",function(){var o=t.getServicioFromButton(e);if(t.formularioCotizacion){var n=t.formularioCotizacion.querySelector('select[name="servicio"]');n&&o&&(n.value=o),t.formularioCotizacion.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(function(){var e=t.formularioCotizacion.querySelector("input");e&&e.focus()},800)}BombasAyalaUtils.trackEvent("boton_cotizar_click","servicios",o),console.log("üíº Bot√≥n cotizar clickeado:",o)})})}},{key:"getServicioFromButton",value:function(t){var e=t.closest(".servicio-card");if(e){var o=e.querySelector(".servicio-titulo, h3, h4");if(o)return o.textContent.trim()}return t.dataset.servicio||"Servicio no especificado"}},{key:"initBotonesEmergencia",value:function(){var t=this;document.querySelectorAll(".boton-emergencia").forEach(function(e){e.addEventListener("click",function(){var o=t.getTipoEmergencia(e);if("whatsapp"===o){BombasAyalaUtils.openWhatsApp("üö® *EMERGENCIA - SERVICIO URGENTE* üö®\n\nNecesito asistencia t√©cnica urgente con bombas de agua.\n\n‚è∞ Es una emergencia\nüìû Por favor contactarme lo antes posible\n\n¬°Gracias!")}else"llamada"===o&&(window.location.href="tel:+51997984102");BombasAyalaUtils.trackEvent("emergencia_click","servicios",o),console.log("üö® Emergencia clickeada:",o)})})}},{key:"getTipoEmergencia",value:function(t){return t.classList.contains("whatsapp")||t.querySelector(".fa-whatsapp")?"whatsapp":t.classList.contains("llamada")||t.querySelector(".fa-phone")?"llamada":"unknown"}},{key:"initAccesibilidad",value:function(){document.querySelectorAll("button, .boton-cotizar, .boton-emergencia").forEach(function(t){if(!t.getAttribute("aria-label")&&!t.textContent.trim()){var e=t.querySelector("i");if(e){var o=e.className;o.includes("whatsapp")?t.setAttribute("aria-label","Contactar por WhatsApp"):o.includes("phone")?t.setAttribute("aria-label","Llamar por tel√©fono"):(o.includes("quote")||o.includes("cotizar"))&&t.setAttribute("aria-label","Solicitar cotizaci√≥n")}}}),document.querySelectorAll("input, select, textarea, button").forEach(function(t){t.addEventListener("focus",function(){t.style.outline="2px solid #007bff",t.style.outlineOffset="2px"}),t.addEventListener("blur",function(){t.style.outline="",t.style.outlineOffset=""})})}},{key:"scrollToForm",value:function(){this.formularioCotizacion&&this.formularioCotizacion.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"preseleccionarServicio",value:function(t){if(this.formularioCotizacion){var e=this.formularioCotizacion.querySelector('select[name="servicio"]');e&&(e.value=t,e.dispatchEvent(new Event("change")))}}},{key:"getStats",value:function(){return{servicios:this.servicioCards.length,testimonios:this.testimonioCards.length,hasFormulario:!!this.formularioCotizacion}}}])}();function trackEvent(t,e,o){BombasAyalaUtils.trackEvent(t,e,o)}function validateField(t){return BombasAyalaUtils.validateField(t)}function showFieldError(t,e){BombasAyalaUtils.showFieldError(t,e)}function animateCounter(t,e,o,n){BombasAyalaUtils.animateCounter(t,e,o,n)}function isMobile(){return BombasAyalaUtils.isMobile()}function adjustForMobile(){console.log("üîÑ adjustForMobile legacy llamada")}function initServicios(){window.serviciosController=new ServiciosController,window.Servicios={scrollToForm:function(){var t;return null===(t=window.serviciosController)||void 0===t?void 0:t.scrollToForm()},preseleccionar:function(t){var e;return null===(e=window.serviciosController)||void 0===e?void 0:e.preseleccionarServicio(t)},stats:function(){var t;return null===(t=window.serviciosController)||void 0===t?void 0:t.getStats()}}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}document.addEventListener("DOMContentLoaded",function(){initServicios(),adjustForMobile()}),"undefined"!=typeof module&&module.exports&&(module.exports=ServiciosController);var SoporteController=function(){return _createClass(function t(){_classCallCheck(this,t),this.faqItems=document.querySelectorAll(".faq-item"),this.buscadorFAQ=document.getElementById("buscadorFAQ"),this.formularioSoporte=document.getElementById("formularioSoporte"),this.chatButton=document.querySelector(".chat-soporte-btn"),this.faqsOriginales=[],this.faqActivo=null,this.init()},[{key:"init",value:function(){this.initFAQ(),this.initBuscador(),this.initFormularioSoporte(),this.initChatSoporte(),this.initAnimaciones(),this.guardarFAQsOriginales(),console.log("‚úÖ Soporte Controller inicializado")}},{key:"initFAQ",value:function(){var t=this;0!==this.faqItems.length&&this.faqItems.forEach(function(e){var o=e.querySelector(".faq-pregunta"),n=e.querySelector(".faq-respuesta"),i=e.querySelector(".faq-pregunta i, .faq-icono");o&&n&&(n.style.display="none",o.addEventListener("click",function(){t.toggleFAQ(e,n,i)}),o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),o.setAttribute("tabindex","0"),o.addEventListener("keydown",function(o){"Enter"!==o.key&&" "!==o.key||(o.preventDefault(),t.toggleFAQ(e,n,i))}))})}},{key:"toggleFAQ",value:function(t,e,o){var n=t.classList.contains("active");this.cerrarTodosFAQs(),n||this.abrirFAQ(t,e,o)}},{key:"abrirFAQ",value:function(t,e,o){t.classList.add("active"),e.style.display="block",e.style.maxHeight="0",e.style.opacity="0",e.style.transition="all 0.3s ease",setTimeout(function(){e.style.maxHeight=e.scrollHeight+"px",e.style.opacity="1"},10),o&&(o.style.transform="rotate(180deg)");var n=t.querySelector(".faq-pregunta");n&&n.setAttribute("aria-expanded","true"),this.faqActivo=t;var i=(null==n?void 0:n.textContent.trim())||"FAQ sin t√≠tulo";BombasAyalaUtils.trackEvent("faq_open","soporte",i),console.log("‚ùì FAQ abierto:",i)}},{key:"cerrarTodosFAQs",value:function(){this.faqItems.forEach(function(t){var e=t.querySelector(".faq-respuesta"),o=t.querySelector(".faq-pregunta i, .faq-icono"),n=t.querySelector(".faq-pregunta");t.classList.remove("active"),e&&(e.style.maxHeight="0",e.style.opacity="0",setTimeout(function(){e.style.display="none"},300)),o&&(o.style.transform="rotate(0deg)"),n&&n.setAttribute("aria-expanded","false")}),this.faqActivo=null}},{key:"initBuscador",value:function(){var t=this;if(this.buscadorFAQ){this.buscadorFAQ.addEventListener("input",BombasAyalaUtils.debounce(function(e){t.filtrarFAQs(e.target.value)},300));var e=document.querySelector(".clear-search");e&&e.addEventListener("click",function(){t.buscadorFAQ.value="",t.filtrarFAQs("")})}}},{key:"filtrarFAQs",value:function(t){var e=t.toLowerCase().trim();if(""!==e){var o=0;this.faqItems.forEach(function(t){var n,i,r=(null===(n=t.querySelector(".faq-pregunta"))||void 0===n?void 0:n.textContent.toLowerCase())||"",a=(null===(i=t.querySelector(".faq-respuesta"))||void 0===i?void 0:i.textContent.toLowerCase())||"";r.includes(e)||a.includes(e)?(t.style.display="block",t.style.opacity="1",o++):(t.style.display="none",t.style.opacity="0")}),this.mostrarResultadosBusqueda(o,t),BombasAyalaUtils.trackEvent("faq_search","soporte",t,o),console.log('üîç B√∫squeda FAQ: "'.concat(t,'" - ').concat(o," resultados"))}else this.faqItems.forEach(function(t){t.style.display="block",t.style.opacity="1"})}},{key:"mostrarResultadosBusqueda",value:function(t,e){var o=document.querySelector(".mensaje-busqueda-faq");if(o&&o.remove(),0===t&&""!==e.trim()){var n=document.createElement("div");n.className="mensaje-busqueda-faq",n.innerHTML='\n                <div style="text-align: center; padding: 20px; color: #666;">\n                    <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.5;"></i>\n                    <p>No se encontraron preguntas que coincidan con "<strong>'.concat(e,'</strong>"</p>\n                    <p style="font-size: 0.9rem;">Intenta con otros t√©rminos o <a href="#contacto" style="color: #007bff;">cont√°ctanos directamente</a></p>\n                </div>\n            '),(this.buscadorFAQ.closest(".faq-container")||this.buscadorFAQ.parentNode).appendChild(n)}}},{key:"guardarFAQsOriginales",value:function(){this.faqsOriginales=Array.from(this.faqItems).map(function(t){var e,o;return{pregunta:null===(e=t.querySelector(".faq-pregunta"))||void 0===e?void 0:e.textContent.trim(),respuesta:null===(o=t.querySelector(".faq-respuesta"))||void 0===o?void 0:o.textContent.trim(),elemento:t}})}},{key:"initFormularioSoporte",value:function(){var t=this;this.formularioSoporte&&(this.formularioSoporte.querySelectorAll("input, select, textarea").forEach(function(t){t.addEventListener("blur",function(){BombasAyalaUtils.validateField(t)}),t.addEventListener("input",function(){t.classList.contains("error")&&BombasAyalaUtils.validateField(t)})}),this.formularioSoporte.addEventListener("submit",function(e){e.preventDefault(),t.enviarSolicitudSoporte()}))}},{key:"enviarSolicitudSoporte",value:function(){var t=this;if(BombasAyalaUtils.validateForm(this.formularioSoporte)){var e=new FormData(this.formularioSoporte),o={nombre:e.get("nombre"),email:e.get("email"),telefono:e.get("telefono"),tipo:e.get("tipo")||"consulta",mensaje:e.get("mensaje"),prioridad:e.get("prioridad")||"normal"},n=this.formularioSoporte.querySelector('button[type="submit"]'),i=(null==n?void 0:n.innerHTML)||"";n&&(n.innerHTML='<i class="fas fa-spinner fa-spin"></i> Enviando...',n.disabled=!0);var r=this.crearMensajeSoporte(o);setTimeout(function(){BombasAyalaUtils.openWhatsApp(r),BombasAyalaUtils.showToast("¬°Solicitud enviada! Te contactaremos pronto.","success"),t.formularioSoporte.reset(),t.formularioSoporte.querySelectorAll("input, select, textarea").forEach(function(t){t.classList.remove("error","success"),BombasAyalaUtils.removeFieldError(t)}),n&&(n.innerHTML=i,n.disabled=!1),BombasAyalaUtils.trackEvent("soporte_enviado","soporte",o.tipo)},1500)}else BombasAyalaUtils.showToast("Por favor, corrige los errores en el formulario.","error")}},{key:"crearMensajeSoporte",value:function(t){var e="".concat({consulta:"‚ùì",tecnico:"üîß",garantia:"üõ°Ô∏è",emergencia:"üö®",otro:"üí¨"}[t.tipo]||"üí¨"," **SOLICITUD DE SOPORTE**\n\n");return e+="üë§ **Cliente:** ".concat(t.nombre,"\n"),e+="üìß **Email:** ".concat(t.email,"\n"),t.telefono&&(e+="üìû **Tel√©fono:** ".concat(t.telefono,"\n")),e+="üìã **Tipo:** ".concat(t.tipo.charAt(0).toUpperCase()+t.tipo.slice(1),"\n"),e+="".concat({baja:"üü¢",normal:"üü°",alta:"üî¥",urgente:"üö®"}[t.prioridad]," **Prioridad:** ").concat(t.prioridad.toUpperCase(),"\n\n"),e+="üí¨ **Mensaje:**\n".concat(t.mensaje,"\n\n"),e+="‚è∞ **Fecha:** ".concat((new Date).toLocaleString("es-PE"),"\n\n"),e+="Por favor, responder lo antes posible. ¬°Gracias!"}},{key:"initChatSoporte",value:function(){var t=this;this.chatButton&&(this.chatButton.addEventListener("click",function(){t.abrirChatSoporte()}),setTimeout(function(){t.mostrarPrompChat()},3e4))}},{key:"abrirChatSoporte",value:function(){BombasAyalaUtils.openWhatsApp("üëã ¬°Hola! Necesito ayuda con:\n\n(Selecciona una opci√≥n o escribe tu consulta)\n\nüîß Problema t√©cnico\nüì¶ Informaci√≥n de productos\nüí∞ Cotizaci√≥n\nüìû Agendar visita t√©cnica\n‚ùì Otra consulta"),BombasAyalaUtils.trackEvent("chat_soporte_click","soporte","whatsapp")}},{key:"mostrarPrompChat",value:function(){this.contarInteracciones()<3&&BombasAyalaUtils.showToast("¬øNecesitas ayuda? Chatea con nosotros üí¨","info",5e3)}},{key:"contarInteracciones",value:function(){return parseInt(sessionStorage.getItem("bombas_interacciones")||"0")}},{key:"initAnimaciones",value:function(){BombasAyalaUtils.animateOnScroll(".faq-item");var t=BombasAyalaUtils.createAnimationObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})});this.faqItems.forEach(function(e,o){e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.4s ease ".concat(.1*o,"s, transform 0.4s ease ").concat(.1*o,"s"),t.observe(e)})}},{key:"abrirFAQPorTexto",value:function(t){var e=Array.from(this.faqItems).find(function(e){var o,n=null===(o=e.querySelector(".faq-pregunta"))||void 0===o?void 0:o.textContent.toLowerCase();return null==n?void 0:n.includes(t.toLowerCase())});if(e){var o=e.querySelector(".faq-respuesta"),n=e.querySelector(".faq-pregunta i, .faq-icono");this.cerrarTodosFAQs(),this.abrirFAQ(e,o,n),e.scrollIntoView({behavior:"smooth",block:"center"})}}},{key:"buscarFAQ",value:function(t){this.buscadorFAQ&&(this.buscadorFAQ.value=t,this.filtrarFAQs(t))}},{key:"getStats",value:function(){var t;return{totalFAQs:this.faqItems.length,faqActivo:this.faqActivo?null===(t=this.faqActivo.querySelector(".faq-pregunta"))||void 0===t?void 0:t.textContent:null,hasFormulario:!!this.formularioSoporte,hasChat:!!this.chatButton}}}])}();function initSoporte(){window.soporteController=new SoporteController,window.Soporte={abrirFAQ:function(t){var e;return null===(e=window.soporteController)||void 0===e?void 0:e.abrirFAQPorTexto(t)},buscar:function(t){var e;return null===(e=window.soporteController)||void 0===e?void 0:e.buscarFAQ(t)},chat:function(){var t;return null===(t=window.soporteController)||void 0===t?void 0:t.abrirChatSoporte()},stats:function(){var t;return null===(t=window.soporteController)||void 0===t?void 0:t.getStats()}}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}document.addEventListener("DOMContentLoaded",function(){initSoporte();var t=parseInt(sessionStorage.getItem("bombas_interacciones")||"0");sessionStorage.setItem("bombas_interacciones",(t+1).toString())}),"undefined"!=typeof module&&module.exports&&(module.exports=SoporteController);var BombasAyalaApp=function(){return _createClass(function t(){_classCallCheck(this,t),this.isInitialized=!1,this.currentPage=this.detectCurrentPage(),this.controllers={},this.config={phone:"51997984102",email:"info@bombasayala.com",address:"Lima, Per√∫",analytics:{enabled:!0,trackingId:"GA_MEASUREMENT_ID"}},this.init()},[{key:"init",value:function(){console.log("üöÄ Iniciando Bombas Ayala App..."),this.checkDependencies()?(this.initGlobalComponents(),this.initPageSpecificComponents(),this.setupGlobalEvents(),this.finishInitialization()):console.error("‚ùå Dependencias no encontradas")}},{key:"checkDependencies",value:function(){for(var t=0,e=["BombasAyalaUtils"];t<e.length;t++){var o=e[t];if(void 0===window[o])return console.error("‚ùå Dependencia requerida no encontrada: ".concat(o)),!1}return console.log("‚úÖ Todas las dependencias est√°n disponibles"),!0}},{key:"detectCurrentPage",value:function(){var t=window.location.pathname.toLowerCase(),e=document.body;return t.includes("inicio")||"/"===t||t.includes("index")?"inicio":t.includes("productos")?"productos":t.includes("servicios")?"servicios":t.includes("galeria")||t.includes("proyectos")||t.includes("fotos")?"galeria":t.includes("nosotros")||t.includes("about")?"nosotros":t.includes("contacto")||t.includes("contact")?"contacto":t.includes("soporte")||t.includes("faq")||t.includes("ayuda")?"soporte":e.classList.contains("page-inicio")||document.querySelector("#heroBackground")?"inicio":e.classList.contains("page-productos")||document.querySelector(".producto-card")?"productos":e.classList.contains("page-servicios")||document.querySelector(".servicio-card")?"servicios":e.classList.contains("page-galeria")||document.querySelector(".tarjeta-proyecto")?"galeria":e.classList.contains("page-nosotros")||document.querySelector(".numero-estadistica")?"nosotros":e.classList.contains("page-contacto")||document.querySelector("#formularioContacto")?"contacto":e.classList.contains("page-soporte")||document.querySelector(".faq-item")?"soporte":"general"}},{key:"initGlobalComponents",value:function(){if(console.log("üîß Inicializando componentes globales..."),void 0!==HeaderController)try{this.controllers.header=new HeaderController,console.log("‚úÖ Header inicializado")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Header:",t.message)}if(void 0!==FlotantesController)try{this.controllers.flotantes=new FlotantesController,console.log("‚úÖ Flotantes inicializados")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Flotantes:",t.message)}}},{key:"initPageSpecificComponents",value:function(){switch(console.log("üìÑ Inicializando componentes para p√°gina: ".concat(this.currentPage)),this.currentPage){case"inicio":this.initInicioComponents();break;case"productos":this.initProductosComponents();break;case"servicios":this.initServiciosComponents();break;case"galeria":this.initGaleriaComponents();break;case"nosotros":this.initNosotrosComponents();break;case"contacto":this.initContactoComponents();break;case"soporte":this.initSoporteComponents();break;default:console.log("üìÑ P√°gina gen√©rica - solo componentes globales")}}},{key:"initInicioComponents",value:function(){if(void 0!==InicioController)try{this.controllers.inicio=new InicioController,console.log("‚úÖ Inicio inicializado")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Inicio:",t.message)}}},{key:"initProductosComponents",value:function(){if(void 0!==ProductosController)try{this.controllers.productos=new ProductosController,console.log("‚úÖ Productos inicializado")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Productos:",t.message)}}},{key:"initServiciosComponents",value:function(){if(void 0!==ServiciosController)try{this.controllers.servicios=new ServiciosController,console.log("‚úÖ Servicios inicializado")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Servicios:",t.message)}}},{key:"initGaleriaComponents",value:function(){if(void 0!==GaleriaController)try{this.controllers.galeria=new GaleriaController,console.log("‚úÖ Galer√≠a inicializada")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Galer√≠a:",t.message)}}},{key:"initNosotrosComponents",value:function(){if(void 0!==NosotrosController)try{this.controllers.nosotros=new NosotrosController,console.log("‚úÖ Nosotros inicializado")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Nosotros:",t.message)}}},{key:"initContactoComponents",value:function(){if(void 0!==ContactoController)try{this.controllers.contacto=new ContactoController,console.log("‚úÖ Contacto inicializado")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Contacto:",t.message)}}},{key:"initSoporteComponents",value:function(){if(void 0!==SoporteController)try{this.controllers.soporte=new SoporteController,console.log("‚úÖ Soporte inicializado")}catch(t){console.warn("‚ö†Ô∏è Error inicializando Soporte:",t.message)}}},{key:"setupGlobalEvents",value:function(){window.addEventListener("error",this.handleGlobalError.bind(this)),window.addEventListener("unhandledrejection",this.handleUnhandledRejection.bind(this)),window.addEventListener("beforeunload",this.handleBeforeUnload.bind(this)),window.addEventListener("load",this.handlePageLoad.bind(this)),window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),console.log("‚úÖ Eventos globales configurados")}},{key:"handleGlobalError",value:function(t){console.error("‚ùå Error global:",t.error),this.config.analytics.enabled&&BombasAyalaUtils.trackEvent("javascript_error","error",t.error.message)}},{key:"handleUnhandledRejection",value:function(t){console.error("‚ùå Promesa rechazada:",t.reason),this.config.analytics.enabled&&BombasAyalaUtils.trackEvent("promise_rejection","error",t.reason.toString())}},{key:"handleBeforeUnload",value:function(t){console.log("üßπ Limpiando recursos antes de salir...")}},{key:"handlePageLoad",value:function(t){var e=performance.now();console.log("‚ö° P√°gina cargada en ".concat(Math.round(e),"ms")),this.config.analytics.enabled&&BombasAyalaUtils.trackEvent("page_load_time","performance",this.currentPage,Math.round(e))}},{key:"handleOnline",value:function(t){console.log("üü¢ Conexi√≥n restaurada"),BombasAyalaUtils.showToast("Conexi√≥n restaurada","success")}},{key:"handleOffline",value:function(t){console.log("üî¥ Sin conexi√≥n a internet"),BombasAyalaUtils.showToast("Sin conexi√≥n a internet","warning")}},{key:"finishInitialization",value:function(){this.isInitialized=!0,this.hideLoaders(),this.showContent(),this.config.analytics.enabled&&BombasAyalaUtils.trackEvent("app_initialized","system",this.currentPage),console.log("üéâ Bombas Ayala App inicializada correctamente"),console.log("üìä Estado:",this.getAppState())}},{key:"hideLoaders",value:function(){document.querySelectorAll(".loader, .loading, .preloader").forEach(function(t){t.style.opacity="0",setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},300)})}},{key:"showContent",value:function(){document.body.style.opacity="1",document.body.classList.add("loaded")}},{key:"getAppState",value:function(){return{initialized:this.isInitialized,currentPage:this.currentPage,controllers:Object.keys(this.controllers),isMobile:BombasAyalaUtils.isMobile(),config:this.config}}},{key:"getController",value:function(t){return this.controllers[t]||null}},{key:"reload",value:function(){window.location.reload()}},{key:"openWhatsApp",value:function(t){BombasAyalaUtils.openWhatsApp(t||"¬°Hola! Me interesa conocer m√°s sobre sus servicios.",this.config.phone)}},{key:"callPhone",value:function(){window.location.href="tel:+".concat(this.config.phone)}},{key:"sendEmail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Consulta desde el sitio web",e=encodeURIComponent("Estimados,\n\nMe interesa conocer m√°s informaci√≥n sobre sus servicios.\n\nSaludos cordiales.");window.location.href="mailto:".concat(this.config.email,"?subject=").concat(encodeURIComponent(t),"&body=").concat(e)}}])}();function initBombasAyalaApp(){"undefined"!=typeof window?(window.BombasAyala=new BombasAyalaApp,window.BA={app:window.BombasAyala,utils:window.BombasAyalaUtils,whatsapp:function(t){return window.BombasAyala.openWhatsApp(t)},call:function(){return window.BombasAyala.callPhone()},email:function(t){return window.BombasAyala.sendEmail(t)},state:function(){return window.BombasAyala.getAppState()},reload:function(){return window.BombasAyala.reload()}},console.log("üåü API global disponible como window.BA")):console.warn("‚ö†Ô∏è No estamos en un entorno de navegador")}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(t,e,o){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initBombasAyalaApp):initBombasAyalaApp(),"undefined"!=typeof module&&module.exports&&(module.exports=BombasAyalaApp),window.BombasAyalaUtils={initSmoothScroll:function(){document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var e=document.querySelector(this.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth",block:"start"})})})},createAnimationObserver:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new IntersectionObserver(t,_objectSpread(_objectSpread({},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),e))},animateOnScroll:function(t){var e=document.querySelectorAll(t),o=this.createAnimationObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)",t.target.classList.add("animated"))})});e.forEach(function(t){t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",o.observe(t)})},validateField:function(t){var e=t.value.trim(),o=t.hasAttribute("required");if(t.classList.remove("error","success"),this.removeFieldError(t),o&&!e)return this.showFieldError(t,"Este campo es obligatorio"),!1;if("email"===t.type&&e){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return this.showFieldError(t,"Ingresa un email v√°lido"),!1}if("tel"===t.type&&e){if(!/^[0-9]{9,}$/.test(e.replace(/\s+/g,"")))return this.showFieldError(t,"Ingresa un tel√©fono v√°lido (m√≠nimo 9 d√≠gitos)"),!1}return e&&t.classList.add("success"),!0},showFieldError:function(t,e){t.classList.add("error");var o=document.createElement("div");o.className="error-message",o.textContent=e,o.style.cssText="\n            color: #E74C3C;\n            font-size: 0.85rem;\n            margin-top: 0.25rem;\n        ",t.parentNode.appendChild(o)},removeFieldError:function(t){var e=t.parentNode.querySelector(".error-message");e&&e.remove()},validateForm:function(t){var e=this,o=t.querySelectorAll("input, select, textarea"),n=!0;return o.forEach(function(t){e.validateField(t)||(n=!1)}),n},openWhatsApp:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"51997984102",o=encodeURIComponent(t),n="https://wa.me/".concat(e,"?text=").concat(o);window.open(n,"_blank")},createQuoteMessage:function(t){var e="üîß *SOLICITUD DE COTIZACI√ìN*\n\n";return t.nombre&&(e+="üë§ *Cliente:* ".concat(t.nombre,"\n")),t.telefono&&(e+="üìû *Tel√©fono:* ".concat(t.telefono,"\n")),t.email&&(e+="üìß *Email:* ".concat(t.email,"\n")),t.servicio&&(e+="üõ†Ô∏è *Servicio:* ".concat(t.servicio,"\n")),t.producto&&(e+="üì¶ *Producto:* ".concat(t.producto,"\n")),t.descripcion&&(e+="üìù *Descripci√≥n:* ".concat(t.descripcion,"\n")),e+="\n¬°Espero su cotizaci√≥n pronto!"},trackEvent:function(t,e,o,n){console.log("üìä Evento: ".concat(t," | ").concat(e," | ").concat(o||"")),"undefined"!=typeof gtag&&gtag("event",t,{event_category:e,event_label:o,value:n})},initLazyLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"img[data-src]",e=document.querySelectorAll(t);if(0!==e.length){var o=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var e=t.target;e.src=e.dataset.src,e.removeAttribute("data-src"),e.classList.remove("lazy"),e.classList.add("loaded"),o.unobserve(e)}})},{threshold:.1,rootMargin:"0px 0px 50px 0px"});e.forEach(function(t){t.classList.add("lazy"),o.observe(t)})}},animateCounter:function(t,e,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3,i=null;requestAnimationFrame(function r(a){null===i&&(i=a);var s=a-i,l=Math.min(s/n,1),c=Math.floor(l*(o-e)+e);o.toString().includes("%")?t.textContent=c+"%":o.toString().includes("+")?t.textContent=c+"+":o.toString().includes("/")?t.textContent="24/7":t.textContent=c.toLocaleString(),l<1&&requestAnimationFrame(r)})},isMobile:function(){return window.innerWidth<=768},debounce:function(t,e){var o;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];clearTimeout(o),o=setTimeout(function(){clearTimeout(o),t.apply(void 0,i)},e)}},copyToClipboard:function(t){if(navigator.clipboard)return navigator.clipboard.writeText(t);var e=document.createElement("textarea");return e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),Promise.resolve()},showToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,n=document.createElement("div");n.className="toast toast-".concat(e),n.textContent=t,n.style.cssText="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 12px 20px;\n            border-radius: 8px;\n            color: white;\n            font-weight: 600;\n            z-index: 9999;\n            opacity: 0;\n            transform: translateX(100%);\n            transition: all 0.3s ease;\n        ";var i={success:"#27AE60",error:"#E74C3C",warning:"#F39C12",info:"#3498DB"};n.style.backgroundColor=i[e]||i.info,document.body.appendChild(n),setTimeout(function(){n.style.opacity="1",n.style.transform="translateX(0)"},100),setTimeout(function(){n.style.opacity="0",n.style.transform="translateX(100%)",setTimeout(function(){document.body.contains(n)&&document.body.removeChild(n)},300)},o)},preloadImages:function(t){t.forEach(function(t){(new Image).src=t})}},document.addEventListener("DOMContentLoaded",function(){BombasAyalaUtils.initSmoothScroll(),BombasAyalaUtils.initLazyLoading(),console.log("‚úÖ BombasAyala Utils inicializados")}),"undefined"!=typeof module&&module.exports&&(module.exports=window.BombasAyalaUtils);
//# sourceMappingURL=main.js.map
